<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toko Baju Online - Pemesanan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-shadow { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
    </style>
</head>
<body class="gradient-bg min-h-screen py-8">
    <div class="container mx-auto px-4 max-w-4xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white mb-2">üëï Toko Baju Online</h1>
            <p class="text-white/80 text-lg">Pesan baju favorit Anda dengan mudah</p>
        </div>

        <!-- Main Form Card -->
        <div class="bg-white rounded-2xl card-shadow p-8 mb-8">
            <form id="orderForm" class="space-y-6">
                <!-- Customer Info Section -->
                <div class="border-b pb-6">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-4">üìã Informasi Pelanggan</h2>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Nama Lengkap *</label>
                            <input type="text" id="customerName" required 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Nomor WhatsApp *</label>
                            <input type="tel" id="phoneNumber" required 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                                   placeholder="08xxxxxxxxxx">
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Alamat Lengkap *</label>
                            <textarea id="address" required rows="3"
                                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                                      placeholder="Jalan, RT/RW, Kelurahan, Kecamatan, Kota, Kode Pos"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Product Selection -->
                <div class="border-b pb-6">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-4">üëî Pilih Produk</h2>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Jenis Baju *</label>
                            <select id="productType" required 
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                                <option value="">Pilih jenis baju</option>
                                <option value="Kaos Polos">Kaos Polos - Rp 75.000</option>
                                <option value="Kaos Sablon">Kaos Sablon - Rp 95.000</option>
                                <option value="Kemeja Formal">Kemeja Formal - Rp 150.000</option>
                                <option value="Kemeja Casual">Kemeja Casual - Rp 120.000</option>
                                <option value="Hoodie">Hoodie - Rp 180.000</option>
                                <option value="Jaket">Jaket - Rp 200.000</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ukuran *</label>
                            <select id="size" required 
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                                <option value="">Pilih ukuran</option>
                                <option value="S">S (Small)</option>
                                <option value="M">M (Medium)</option>
                                <option value="L">L (Large)</option>
                                <option value="XL">XL (Extra Large)</option>
                                <option value="XXL">XXL (Double XL)</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Warna *</label>
                            <select id="color" required 
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                                <option value="">Pilih warna</option>
                                <option value="Putih">Putih</option>
                                <option value="Hitam">Hitam</option>
                                <option value="Merah">Merah</option>
                                <option value="Biru">Biru</option>
                                <option value="Hijau">Hijau</option>
                                <option value="Kuning">Kuning</option>
                                <option value="Abu-abu">Abu-abu</option>
                                <option value="Navy">Navy</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Jumlah *</label>
                            <input type="number" id="quantity" required min="1" value="1"
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>
                    </div>
                </div>

                <!-- Additional Info -->
                <div class="border-b pb-6">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-4">üìù Informasi Tambahan</h2>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Catatan Khusus (Opsional)</label>
                        <textarea id="notes" rows="3"
                                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                                  placeholder="Contoh: Sablon nama di bagian belakang, warna khusus, dll."></textarea>
                    </div>
                </div>

                <!-- Order Summary -->
                <div class="bg-gray-50 rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">üí∞ Ringkasan Pesanan</h3>
                    <div id="orderSummary" class="space-y-2 text-gray-600">
                        <p>Silakan lengkapi form untuk melihat ringkasan pesanan</p>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="text-center pt-4">
                    <button type="submit" 
                            class="bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-4 px-8 rounded-lg transform hover:scale-105 transition-all duration-200 shadow-lg">
                        üõí Kirim Pesanan
                    </button>
                </div>
            </form>
        </div>

        <!-- Success Message -->
        <div id="successMessage" class="hidden bg-green-500 text-white p-6 rounded-lg text-center">
            <h3 class="text-xl font-semibold mb-2">‚úÖ Pesanan Berhasil Dikirim!</h3>
            <p>Terima kasih! Pesanan Anda telah kami terima dan akan segera diproses.</p>
        </div>

        <!-- Instructions -->
        <div class="bg-white/10 backdrop-blur-sm rounded-lg p-6 text-white">
            <h3 class="text-lg font-semibold mb-3">üìã Petunjuk Penggunaan Google Apps Script:</h3>
            <ol class="list-decimal list-inside space-y-2 text-sm">
                <li>Buka Google Sheets dan buat spreadsheet baru</li>
                <li>Buka Extensions ‚Üí Apps Script</li>
                <li>Hapus kode default dan paste kode yang saya berikan</li>
                <li>Simpan project dan deploy sebagai web app</li>
                <li>Copy URL deployment dan ganti di JavaScript di bawah</li>
                <li>Set permissions untuk "Anyone" dapat mengakses</li>
            </ol>
        </div>
    </div>

    <script>
        // Konfigurasi - Ganti dengan URL Google Apps Script Anda
        const GOOGLE_SCRIPT_URL = 'GANTI_DENGAN_URL_GOOGLE_APPS_SCRIPT_ANDA';

        // Price mapping
        const prices = {
            'Kaos Polos': 75000,
            'Kaos Sablon': 95000,
            'Kemeja Formal': 150000,
            'Kemeja Casual': 120000,
            'Hoodie': 180000,
            'Jaket': 200000
        };

        // Update order summary when form changes
        function updateOrderSummary() {
            const productType = document.getElementById('productType').value;
            const size = document.getElementById('size').value;
            const color = document.getElementById('color').value;
            const quantity = parseInt(document.getElementById('quantity').value) || 1;

            const summaryDiv = document.getElementById('orderSummary');

            if (productType && size && color) {
                const unitPrice = prices[productType] || 0;
                const totalPrice = unitPrice * quantity;

                summaryDiv.innerHTML = `
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span>Produk:</span>
                            <span class="font-medium">${productType}</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Ukuran:</span>
                            <span class="font-medium">${size}</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Warna:</span>
                            <span class="font-medium">${color}</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Jumlah:</span>
                            <span class="font-medium">${quantity} pcs</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Harga Satuan:</span>
                            <span class="font-medium">Rp ${unitPrice.toLocaleString('id-ID')}</span>
                        </div>
                        <hr class="my-2">
                        <div class="flex justify-between text-lg font-semibold text-gray-800">
                            <span>Total:</span>
                            <span>Rp ${totalPrice.toLocaleString('id-ID')}</span>
                        </div>
                    </div>
                `;
            } else {
                summaryDiv.innerHTML = '<p>Silakan lengkapi form untuk melihat ringkasan pesanan</p>';
            }
        }

        // Add event listeners for real-time updates
        ['productType', 'size', 'color', 'quantity'].forEach(id => {
            document.getElementById(id).addEventListener('change', updateOrderSummary);
        });

        // Form submission
        document.getElementById('orderForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            // Collect form data
            const formData = {
                timestamp: new Date().toLocaleString('id-ID'),
                customerName: document.getElementById('customerName').value,
                phoneNumber: document.getElementById('phoneNumber').value,
                address: document.getElementById('address').value,
                productType: document.getElementById('productType').value,
                size: document.getElementById('size').value,
                color: document.getElementById('color').value,
                quantity: document.getElementById('quantity').value,
                notes: document.getElementById('notes').value,
                unitPrice: prices[document.getElementById('productType').value],
                totalPrice: prices[document.getElementById('productType').value] * parseInt(document.getElementById('quantity').value)
            };

            // Show loading state
            const submitBtn = document.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '‚è≥ Mengirim...';
            submitBtn.disabled = true;

            try {
                // Send to Google Sheets (uncomment when you have the script URL
                const response = await fetch(https://script.google.com/macros/s/AKfycbzDU6BjTTYajWpdp6a8JWXnnGF77BZVDPwZ8gE5EOOh2NLeNwTL6A2iEPsEQkwUYHO1/exec, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                */

                // Show success message
                document.getElementById('orderForm').style.display = 'none';
                document.getElementById('successMessage').classList.remove('hidden');

                // Log data for demo purposes (remove in production)
                console.log('Data pesanan:', formData);

            } catch (error) {
                alert('Terjadi kesalahan saat mengirim pesanan. Silakan coba lagi.');
                console.error('Error:', error);
            } finally {
                // Reset button
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        });

        // Initialize
        updateOrderSummary();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'982eda6625dd9c80',t:'MTc1ODUxMzE4My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
